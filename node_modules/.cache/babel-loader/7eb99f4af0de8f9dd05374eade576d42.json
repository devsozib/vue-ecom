{"remainingRequest":"F:\\ecommerce-vuejs\\node_modules\\babel-loader\\lib\\index.js!F:\\ecommerce-vuejs\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\ecommerce-vuejs\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\ecommerce-vuejs\\src\\App.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\ecommerce-vuejs\\src\\App.vue","mtime":1672804148808},{"path":"F:\\ecommerce-vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672804705885},{"path":"F:\\ecommerce-vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":1672804708790},{"path":"F:\\ecommerce-vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672804705885},{"path":"F:\\ecommerce-vuejs\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1672804710980}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOi9lY29tbWVyY2UtdnVlanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgTmF2YmFyIGZyb20gJy4vY29tcG9uZW50cy9OYXZiYXIudnVlJzsKaW1wb3J0IEZvb3RlciBmcm9tICcuL2NvbXBvbmVudHMvRm9vdGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFzZVVSTDogJ2h0dHBzOi8vbGltaXRsZXNzLWxha2UtNTUwNzAuaGVyb2t1YXBwLmNvbS8nLAogICAgICAvL2Jhc2VVUkw6ICJodHRwOi8vbG9jYWxob3N0OjgwODAvIiwKICAgICAgcHJvZHVjdHM6IG51bGwsCiAgICAgIGNhdGVnb3JpZXM6IG51bGwsCiAgICAgIGtleTogMCwKICAgICAgdG9rZW46IG51bGwsCiAgICAgIGNhcnRDb3VudDogMAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcjogRm9vdGVyLAogICAgTmF2YmFyOiBOYXZiYXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoX3RoaXMuYmFzZVVSTCArICdwcm9kdWN0LycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvZHVjdHMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KF90aGlzLmJhc2VVUkwgKyAnY2F0ZWdvcnkvJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYXRlZ29yaWVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMudG9rZW4pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQoX3RoaXMuYmFzZVVSTCwgImNhcnQvP3Rva2VuPSIpLmNvbmNhdChfdGhpcy50b2tlbikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNhcnQKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYXJ0Q291bnQgPSBPYmplY3Qua2V5cyhyZXNwb25zZS5kYXRhLmNhcnRJdGVtcykubGVuZ3RoOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXNldENhcnRDb3VudDogZnVuY3Rpb24gcmVzZXRDYXJ0Q291bnQoKSB7CiAgICAgIHRoaXMuY2FydENvdW50ID0gMDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["F:\\ecommerce-vuejs\\src\\App.vue"],"names":[],"mappings":";;;;AAoBA,OAAO,MAAP,MAAmB,yBAAnB;AACA,OAAO,MAAP,MAAmB,yBAAnB;AACA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,6CADJ;AAEL;AACA,MAAA,QAAQ,EAAE,IAHL;AAIL,MAAA,UAAU,EAAE,IAJP;AAKL,MAAA,GAAG,EAAE,CALA;AAML,MAAA,KAAK,EAAE,IANF;AAOL,MAAA,SAAS,EAAE;AAPN,KAAP;AASD,GAXY;AAab,EAAA,UAAU,EAAE;AAAE,IAAA,MAAM,EAAN,MAAF;AAAU,IAAA,MAAK,EAAL;AAAV,GAbC;AAcb,EAAA,OAAO,EAAE;AACD,IAAA,SADC,uBACW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEV,KAAI,CACP,GADG,CACC,KAAI,CAAC,OAAL,GAAe,UADhB,EAEH,IAFG,CAEE,UAAC,GAAD;AAAA,yBAAU,KAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,IAA9B;AAAA,iBAFF,EAGH,KAHG,CAGG,UAAC,GAAD;AAAA,yBAAS,OAAO,CAAC,GAAR,CAAY,GAAZ,CAAT;AAAA,iBAHH,CAFU;;AAAA;AAAA;AAAA,uBAQV,KAAI,CACP,GADG,CACC,KAAI,CAAC,OAAL,GAAe,WADhB,EAEH,IAFG,CAEE,UAAC,GAAD;AAAA,yBAAU,KAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,IAAhC;AAAA,iBAFF,EAGH,KAHG,CAGG,UAAC,GAAD;AAAA,yBAAS,OAAO,CAAC,GAAR,CAAY,GAAZ,CAAT;AAAA,iBAHH,CARU;;AAAA;AAAA,qBAcZ,KAAI,CAAC,KAdO;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAeR,KAAK,CAAC,GAAN,WAAa,KAAI,CAAC,OAAlB,yBAAwC,KAAI,CAAC,KAA7C,GAAsD,IAAtD,CACJ,UAAC,QAAD,EAAc;AACZ,sBAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B;AACA,oBAAA,KAAI,CAAC,SAAL,GAAiB,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,IAAT,CAAc,SAA1B,EAAqC,MAAtD;AACF;AACD,iBANG,EAOJ,UAAC,KAAD,EAAW;AACT,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACF,iBATI,CAfQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BjB,KA5BM;AA6BP,IAAA,cA7BO,4BA6BU;AACf,WAAK,SAAL,GAAiB,CAAjB;AACD;AA/BM,GAdI;AA+Cb,EAAA,OA/Ca,qBA+CH;AACR,SAAK,KAAL,GAAa,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAb;AACA,SAAK,SAAL;AACD;AAlDY,CAAf","sourcesContent":["<template>\n  <Navbar\n    :cartCount=\"cartCount\"\n    @resetCartCount=\"resetCartCount\"\n    v-if=\"!['Signup', 'Signin'].includes($route.name)\"\n  />\n  <div style=\"min-height: 60vh\">\n    <router-view\n      v-if=\"products && categories\"\n      :baseURL=\"baseURL\"\n      :products=\"products\"\n      :categories=\"categories\"\n      @fetchData=\"fetchData\"\n    >\n    </router-view>\n  </div>\n  <Footer v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer.vue';\nexport default {\n  data() {\n    return {\n      baseURL: 'https://limitless-lake-55070.herokuapp.com/',\n      //baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      key: 0,\n      token: null,\n      cartCount: 0,\n    };\n  },\n\n  components: { Footer, Navbar },\n  methods: {\n    async fetchData() {\n      // fetch products\n      await axios\n        .get(this.baseURL + 'product/')\n        .then((res) => (this.products = res.data))\n        .catch((err) => console.log(err));\n\n      //fetch categories\n      await axios\n        .get(this.baseURL + 'category/')\n        .then((res) => (this.categories = res.data))\n        .catch((err) => console.log(err));\n\n      //fetch cart items\n      if (this.token) {\n        await axios.get(`${this.baseURL}cart/?token=${this.token}`).then(\n          (response) => {\n            if (response.status == 200) {\n              // update cart\n              this.cartCount = Object.keys(response.data.cartItems).length;\n            }\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"],"sourceRoot":""}]}